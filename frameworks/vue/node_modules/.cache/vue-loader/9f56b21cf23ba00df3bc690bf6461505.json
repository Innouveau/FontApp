{"remainingRequest":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue","mtime":1614846755231},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICdAL3N0eWxlcy9pbmRleC5zY3NzJzsKQGltcG9ydCAnQC9zdHlsZXMvdmFyaWFibGVzLnNjc3MnOwoKLmFwcCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CgogICAgLnRlc3QgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICBiYWNrZ3JvdW5kOiBwaW5rOwogICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICB0b3A6IDUwJTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICAgIH0KCiAgICAucGxheWVyIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgbGVmdDogMDsKICAgICAgICB0b3A6IDA7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQoKICAgIC5sb2dvIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgbGVmdDogJHN0YW5kYXJkLXBhZGRpbmc7CiAgICAgICAgdG9wOiAkc3RhbmRhcmQtcGFkZGluZzsKICAgIH0KCiAgICAudG9vbHMgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogJHN0YW5kYXJkLXBhZGRpbmc7CiAgICAgICAgYm90dG9tOiAkc3RhbmRhcmQtcGFkZGluZzsKICAgIH0KCiAgICBAaW5jbHVkZSBtb2JpbGUoKSB7CgoKICAgIH0KfQo="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"app.vue","sourceRoot":"src","sourcesContent":["<script>\n    import axios from 'axios';\n    import directions from '@/data/directions';\n    import sketchfabdata from \"@/data/sketchfabdata\";\n    import player from \"./components/presentation/player\";\n    import audioTools from \"@/tools/audio\";\n    import mobilePortraitWarning from \"./components/elements/mobile-portrait-warning\";\n    import internetExplorerWarning from \"./components/elements/internet-explorer-warning\";\n    import tools from \"./components/presentation/tools/tools\";\n    import popupContact from \"./components/presentation/popups/popup-contact\";\n    import logo from \"./components/presentation/logo\";\n    import direction from \"./components/presentation/directions/direction\";\n    import popupSlide from \"./components/presentation/popups/popup-slide\";\n    import directionNavigation from \"./components/presentation/directions/direction-navigation\";\n    import intro from \"./components/presentation/intro/intro\";\n\n    // todo check place of this code\n    // A container for some global methods\n    window.configuratorapi = {};\n    \n    export default {\n        name: 'app',\n        components: {\n            internetExplorerWarning,\n            mobilePortraitWarning,\n            player,\n            intro,\n            directionNavigation,\n            popupSlide,\n            direction,\n            logo,\n            popupContact,\n            tools\n        },\n        props: {},\n        computed: {\n            isLoaded() {\n                return this.$store.state.ui.fetchingStatus === 'loaded';\n            },\n            width() {\n                return this.$store.state.width;\n            },\n            height() {\n                return this.$store.state.height;\n            },\n            isInternetExplorer() {\n                const isIE = /*@cc_on!@*/false || !!document.documentMode;\n                const isEdge = !isIE && !!window.StyleMedia;\n                return isIE || isEdge;\n            },\n            showPopupContact() {\n                return this.$store.state.ui.popupContact;\n            },\n            showNavigationPopup() {\n                return this.$store.state.ui.popupNavigation;\n            },\n            showIntroPopup() {\n                return this.$store.state.ui.popupIntro;\n            },\n            currentDirection() {\n                return this.$store.state.directions.current;\n            }\n        },\n        methods: {\n            init() {\n                this.loadData();\n                audioTools.init();\n            },\n            loadData() {\n                this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loading'});\n                const uuid = this.$route.query.presentation;\n                console.log(uuid);\n                axios\n                    .get(window.config.apiUrl + uuid)\n                    .then(response => {\n                        this.importDataToStore(response.data);\n                        this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loaded'});\n                    })\n                    .catch(error => {\n                        if (error.message.indexOf('404') > -1) {\n                            this.notFound();\n                        }\n                    })\n                    .finally(() => {\n                        //\n                    })\n\n            },\n            notFound() {\n                alert('UUID not found');\n            },\n            importDataToStore(data) {\n                let currentLanguage, slides, disabledSlides;\n                slides = this.mapSlides(data.slides, 1);\n                disabledSlides = this.mapSlides(data.slides, 0);\n                console.log('slides', slides);\n                console.log('disabledSlides', disabledSlides);\n                this.$store.commit('languages/init', data.languages);\n                this.$store.commit('slides/init', slides);\n                this.$store.commit('disabledslides/init', disabledSlides);\n                this.$store.commit('directions/init', directions);\n                this.$store.commit('updateProperty', {key: 'title', value: data.title});\n                if (!data.model) {\n                    this.$store.commit('updateProperty', {key: 'model', value: 'c42246289bb341d3b12b86915eb85a0d'});\n                } else {\n                    this.$store.commit('updateProperty', {key: 'model', value: data.model});\n                }\n\n                this.$store.commit('updateProperty', {key: 'contact', value: data.contact});\n                this.$store.commit('updateProperty', {key: 'pdf', value: data.pdf});\n                this.$store.commit('updateProperty', {key: 'logo', value: data.logo});\n                this.$store.commit('updateProperty', {key: 'video', value: data.video});\n\n                if (this.$store.state.slides.all.length > 0) {\n                    this.$store.commit('slides/setCurrent', this.$store.state.slides.all[0]);\n                } else {\n                    console.error('No slides present in data');\n                }\n                currentLanguage = this.$store.getters['languages/getItemById'](data.language);\n                if (currentLanguage) {\n                    this.$store.commit('languages/setCurrent', currentLanguage);\n                }\n\n                document.title = this.$store.state.title;\n            },\n            mapSlides(slides, value) {\n                return slides.filter(item => item.enabled === value).map(slide => {\n                    let clickableObject = sketchfabdata.clickableobjects.find(obj => obj.name === slide.scene_object_id);\n                    if (clickableObject) {\n                        slide.camera = clickableObject.camera;\n                        slide.scene_material_name = clickableObject.scene_material_name;\n                    } else {\n                        console.error('No matching clickable object found for slide with scene object id: ' + slide.scene_object_id)\n                    }\n                    return slide;\n                })\n            },\n            measure() {\n                let ww, wh, ratio, desiredRatio, marginVertical, marginHorizontal, width, height;\n                desiredRatio = 1920 / 1080;\n\n                if (window.innerWidth  > 767) {\n                    // 25 + 60 margin + 70 + 30 padding\n                    marginVertical = 185;\n                    // 25 + 25 margin + 50 + 34 padding\n                    marginHorizontal = 134;\n                } else {\n                    // 3 * 14 padding\n                    marginVertical = 42;\n                    marginHorizontal = 42;\n                }\n                ww = window.innerWidth - marginHorizontal;\n                wh = window.innerHeight - marginVertical;\n                ratio = ww / wh;\n\n                if (ratio > desiredRatio) {\n                    // height as base\n                    height = wh;\n                    width = height * desiredRatio;\n                } else {\n                    // width as base\n                    width = ww;\n                    height = width / desiredRatio\n                }\n                this.$store.commit('updateProperty', {key: 'width', value: width});\n                this.$store.commit('updateProperty', {key: 'height', value: height});\n            }\n        },\n        mounted() {\n            this.init();\n            this.measure();\n            window.addEventListener('resize', () => {\n                this.measure();\n            });\n\n        }\n    }\n</script>\n\n\n<template>\n    <div\n        v-if=\"isLoaded\"\n        class=\"app\">\n        <player/>\n\n        <tools/>\n        <logo/>\n\n        <popup-contact\n                v-if=\"showPopupContact\"/>\n\n        <popup-slide/>\n\n        <direction\n                v-if=\"currentDirection\"\n                :direction=\"currentDirection\"/>\n\n        <direction-navigation\n                v-if=\"showNavigationPopup\"/>\n\n        <intro\n                v-if=\"showIntroPopup\"/>\n\n        <mobile-portrait-warning/>\n        <internet-explorer-warning\n            v-if=\"isInternetExplorer\"/>\n    </div>\n</template>\n\n\n<style lang=\"scss\">\n    @import '@/styles/index.scss';\n    @import '@/styles/variables.scss';\n\n    .app {\n        position: relative;\n\n        .test {\n            position: absolute;\n            background: pink;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n\n        .player {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        .logo {\n            position: absolute;\n            left: $standard-padding;\n            top: $standard-padding;\n        }\n\n        .tools {\n            position: absolute;\n            right: $standard-padding;\n            bottom: $standard-padding;\n        }\n\n        @include mobile() {\n\n\n        }\n    }\n</style>"]}]}