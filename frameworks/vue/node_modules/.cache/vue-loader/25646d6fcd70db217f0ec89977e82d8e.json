{"remainingRequest":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue","mtime":1613121433239},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnQC9zdHlsZXMvaW5kZXguc2Nzcyc7CkBpbXBvcnQgJ0Avc3R5bGVzL3ZhcmlhYmxlcy5zY3NzJzsKCi5hcHAgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwoKICAgIC50ZXN0IHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgYmFja2dyb3VuZDogcGluazsKICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICB9CgogICAgLnBsYXllciB7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgdG9wOiAwOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICB6LWluZGV4OiAxOwogICAgfQoKICAgIEBpbmNsdWRlIG1vYmlsZSgpIHsKCgogICAgfQp9Cg=="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"app.vue","sourceRoot":"src","sourcesContent":["<script>\n    import axios from 'axios';\n    import directions from '@/data/directions';\n    import sketchfabdata from \"@/data/sketchfabdata\";\n    import player from \"./components/pages/presentation/player\";\n    import audioTools from \"@/tools/audio\";\n    import mobilePortraitWarning from \"./components/elements/mobile-portrait-warning\";\n    import InternetExplorerWarning\n        from \"./components/elements/internet-explorer-warning\";\n\n    // todo check place of this code\n    // A container for some global methods\n    window.configuratorapi = {};\n    \n    export default {\n        name: 'app',\n        components: {\n            InternetExplorerWarning,\n            mobilePortraitWarning,\n            player\n        },\n        props: {},\n        computed: {\n            isLoaded() {\n                return this.$store.state.ui.fetchingStatus === 'loaded';\n            },\n            width() {\n                return this.$store.state.width;\n            },\n            height() {\n                return this.$store.state.height;\n            },\n            isInternetExplorer() {\n                const isIE = /*@cc_on!@*/false || !!document.documentMode;\n                const isEdge = !isIE && !!window.StyleMedia;\n                return isIE || isEdge;\n            }\n        },\n        methods: {\n            init() {\n                this.loadData();\n                audioTools.init();\n            },\n            loadData() {\n                this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loading'});\n                if (!this.$route.query.presentation) {\n                    this.notFound();\n                } else {\n                    const uuid = this.$route.query.presentation;\n                    console.log(uuid);\n                    axios\n                        .get(window.config.apiUrl + uuid)\n                        .then(response => {\n                            this.importDataToStore(response.data);\n                            this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loaded'});\n                        })\n                        .catch(error => {\n                            if (error.message.indexOf('404') > -1) {\n                                this.notFound();\n                            }\n                        })\n                        .finally(() => {\n                            //\n                        })\n                }\n\n            },\n            notFound() {\n                alert('UUID not found');\n            },\n            importDataToStore(data) {\n                let currentLanguage, slides, disabledSlides;\n                slides = this.mapSlides(data.slides, 1);\n                disabledSlides = this.mapSlides(data.slides, 0);\n                console.log('slides', slides);\n                console.log('disabledSlides', disabledSlides);\n                this.$store.commit('languages/init', data.languages);\n                this.$store.commit('slides/init', slides);\n                this.$store.commit('disabledslides/init', disabledSlides);\n                this.$store.commit('directions/init', directions);\n                this.$store.commit('updateProperty', {key: 'title', value: data.title});\n                if (!data.model) {\n                    this.$store.commit('updateProperty', {key: 'model', value: 'c42246289bb341d3b12b86915eb85a0d'});\n                } else {\n                    this.$store.commit('updateProperty', {key: 'model', value: data.model});\n                }\n\n                this.$store.commit('updateProperty', {key: 'contact', value: data.contact});\n                this.$store.commit('updateProperty', {key: 'pdf', value: data.pdf});\n                this.$store.commit('updateProperty', {key: 'logo', value: data.logo});\n                this.$store.commit('updateProperty', {key: 'video', value: data.video});\n\n                if (this.$store.state.slides.all.length > 0) {\n                    this.$store.commit('slides/setCurrent', this.$store.state.slides.all[0]);\n                } else {\n                    console.error('No slides present in data');\n                }\n                currentLanguage = this.$store.getters['languages/getItemById'](data.language);\n                if (currentLanguage) {\n                    this.$store.commit('languages/setCurrent', currentLanguage);\n                }\n\n                document.title = this.$store.state.title;\n            },\n            mapSlides(slides, value) {\n                return slides.filter(item => item.enabled === value).map(slide => {\n                    let clickableObject = sketchfabdata.clickableobjects.find(obj => obj.name === slide.scene_object_id);\n                    if (clickableObject) {\n                        slide.camera = clickableObject.camera;\n                        slide.scene_material_name = clickableObject.scene_material_name;\n                    } else {\n                        console.error('No matching clickable object found for slide with scene object id: ' + slide.scene_object_id)\n                    }\n                    return slide;\n                })\n            },\n            measure() {\n                let ww, wh, ratio, desiredRatio, marginVertical, marginHorizontal, width, height;\n                desiredRatio = 1920 / 1080;\n\n                if (window.innerWidth  > 767) {\n                    // 25 + 60 margin + 70 + 30 padding\n                    marginVertical = 185;\n                    // 25 + 25 margin + 50 + 34 padding\n                    marginHorizontal = 134;\n                } else {\n                    // 3 * 14 padding\n                    marginVertical = 42;\n                    marginHorizontal = 42;\n                }\n                ww = window.innerWidth - marginHorizontal;\n                wh = window.innerHeight - marginVertical;\n                ratio = ww / wh;\n\n                if (ratio > desiredRatio) {\n                    // height as base\n                    height = wh;\n                    width = height * desiredRatio;\n                } else {\n                    // width as base\n                    width = ww;\n                    height = width / desiredRatio\n                }\n                this.$store.commit('updateProperty', {key: 'width', value: width});\n                this.$store.commit('updateProperty', {key: 'height', value: height});\n            }\n        },\n        mounted() {\n            this.init();\n            this.measure();\n            window.addEventListener('resize', () => {\n                this.measure();\n            });\n\n        }\n    }\n</script>\n\n\n<template>\n    <div\n        v-if=\"isLoaded\"\n        class=\"app\">\n        <player/>\n        <router-view/>\n\n        <mobile-portrait-warning/>\n        <internet-explorer-warning\n            v-if=\"isInternetExplorer\"/>\n    </div>\n</template>\n\n\n<style lang=\"scss\">\n    @import '@/styles/index.scss';\n    @import '@/styles/variables.scss';\n\n    .app {\n        position: relative;\n\n        .test {\n            position: absolute;\n            background: pink;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n\n        .player {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n        }\n\n        @include mobile() {\n\n\n        }\n    }\n</style>"]}]}