{"remainingRequest":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/src/app.vue","mtime":1612261193988},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/Documents/_work/innouveau/projects/clients/024-klaas-nienhuis/024-bartenbach/dev/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBkaXJlY3Rpb25zIGZyb20gJ0AvZGF0YS9kaXJlY3Rpb25zJzsKaW1wb3J0IHNrZXRjaGZhYmRhdGEgZnJvbSAiQC9kYXRhL3NrZXRjaGZhYmRhdGEiOwoKLy8gdG9kbyBjaGVjayBwbGFjZSBvZiB0aGlzIGNvZGUKLy8gQSBjb250YWluZXIgZm9yIHNvbWUgZ2xvYmFsIG1ldGhvZHMKd2luZG93LmNvbmZpZ3VyYXRvcmFwaSA9IHt9OwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ2FwcCcsCiAgICBjb21wb25lbnRzOiB7fSwKICAgIHByb3BzOiB7fSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgaXNMb2FkZWQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51aS5mZXRjaGluZ1N0YXR1cyA9PT0gJ2xvYWRlZCc7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBpbml0KCkgewogICAgICAgICAgICB0aGlzLmxvYWREYXRhKCk7CgogICAgICAgIH0sCiAgICAgICAgbG9hZERhdGEoKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndWkvdXBkYXRlUHJvcGVydHknLCB7a2V5OiAnZmV0Y2hpbmdTdGF0dXMnLCB2YWx1ZTogJ2xvYWRpbmcnfSk7CgogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgLmdldCh3aW5kb3cuY29uZmlnLmFwaVVybCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydERhdGFUb1N0b3JlKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndWkvdXBkYXRlUHJvcGVydHknLCB7a2V5OiAnZmV0Y2hpbmdTdGF0dXMnLCB2YWx1ZTogJ2xvYWRlZCd9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMubG9hZGluZyA9IGZhbHNlKQogICAgICAgIH0sCiAgICAgICAgaW1wb3J0RGF0YVRvU3RvcmUoZGF0YSkgewogICAgICAgICAgICBsZXQgY3VycmVudExhbmd1YWdlLCBzbGlkZXM7CiAgICAgICAgICAgIHNsaWRlcyA9IHRoaXMubWFwU2xpZGVzKGRhdGEuc2xpZGVzKTsKICAgICAgICAgICAgY29uc29sZS5sb2coc2xpZGVzKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdsYW5ndWFnZXMvaW5pdCcsIGRhdGEubGFuZ3VhZ2VzKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzbGlkZXMvaW5pdCcsIHNsaWRlcyk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGlyZWN0aW9ucy9pbml0JywgZGlyZWN0aW9ucyk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlUHJvcGVydHknLCB7a2V5OiAnY29udGFjdCcsIHZhbHVlOiBkYXRhLmNvbnRhY3R9KTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVQcm9wZXJ0eScsIHtrZXk6ICdwZGYnLCB2YWx1ZTogZGF0YS5wZGZ9KTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVQcm9wZXJ0eScsIHtrZXk6ICdwcml2YWN5U3RhdGVtZW50JywgdmFsdWU6IGRhdGEucHJpdmFjeVN0YXRlbWVudH0pOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVByb3BlcnR5Jywge2tleTogJ2xvZ28nLCB2YWx1ZTogZGF0YS5sb2dvfSk7CgogICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2xpZGVzLmFsbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NsaWRlcy9zZXRDdXJyZW50JywgdGhpcy4kc3RvcmUuc3RhdGUuc2xpZGVzLmFsbFswXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzbGlkZXMgcHJlc2VudCBpbiBkYXRhJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY3VycmVudExhbmd1YWdlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbGFuZ3VhZ2VzL2dldEl0ZW1CeVByb3BlcnR5J10oJ2lzb19jb2RlJywgZGF0YS5jdXJyZW50X2xhbmd1YWdlLCB0cnVlKTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdsYW5ndWFnZXMvc2V0Q3VycmVudCcsIGN1cnJlbnRMYW5ndWFnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1hcFNsaWRlcyhzbGlkZXMpIHsKICAgICAgICAgICAgcmV0dXJuIHNsaWRlcy5tYXAoc2xpZGUgPT4gewogICAgICAgICAgICAgICAgbGV0IGNsaWNrYWJsZU9iamVjdCA9IHNrZXRjaGZhYmRhdGEuY2xpY2thYmxlb2JqZWN0cy5maW5kKG9iaiA9PiBvYmoubmFtZSA9PT0gc2xpZGUuc2NlbmVfaWQpOwogICAgICAgICAgICAgICAgc2xpZGUuY2FtZXJhID0gY2xpY2thYmxlT2JqZWN0LmNhbWVyYTsKICAgICAgICAgICAgICAgIHJldHVybiBzbGlkZTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmluaXQoKTsKICAgIH0KfQo="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.vue","sourceRoot":"src","sourcesContent":["<script>\n    import axios from 'axios';\n    import directions from '@/data/directions';\n    import sketchfabdata from \"@/data/sketchfabdata\";\n\n    // todo check place of this code\n    // A container for some global methods\n    window.configuratorapi = {};\n    \n    export default {\n        name: 'app',\n        components: {},\n        props: {},\n        computed: {\n            isLoaded() {\n                return this.$store.state.ui.fetchingStatus === 'loaded';\n            }\n        },\n        methods: {\n            init() {\n                this.loadData();\n\n            },\n            loadData() {\n                this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loading'});\n\n                axios\n                    .get(window.config.apiUrl)\n                    .then(response => {\n                        this.importDataToStore(response.data);\n                        this.$store.commit('ui/updateProperty', {key: 'fetchingStatus', value: 'loaded'});\n                    })\n                    .catch(error => {\n                        console.log(error)\n                    })\n                    .finally(() => this.loading = false)\n            },\n            importDataToStore(data) {\n                let currentLanguage, slides;\n                slides = this.mapSlides(data.slides);\n                console.log(slides);\n                this.$store.commit('languages/init', data.languages);\n                this.$store.commit('slides/init', slides);\n                this.$store.commit('directions/init', directions);\n                this.$store.commit('updateProperty', {key: 'contact', value: data.contact});\n                this.$store.commit('updateProperty', {key: 'pdf', value: data.pdf});\n                this.$store.commit('updateProperty', {key: 'privacyStatement', value: data.privacyStatement});\n                this.$store.commit('updateProperty', {key: 'logo', value: data.logo});\n\n                if (this.$store.state.slides.all.length > 0) {\n                    this.$store.commit('slides/setCurrent', this.$store.state.slides.all[0]);\n                } else {\n                    console.error('No slides present in data');\n                }\n                currentLanguage = this.$store.getters['languages/getItemByProperty']('iso_code', data.current_language, true);\n                if (currentLanguage) {\n                    this.$store.commit('languages/setCurrent', currentLanguage);\n                }\n            },\n            mapSlides(slides) {\n                return slides.map(slide => {\n                    let clickableObject = sketchfabdata.clickableobjects.find(obj => obj.name === slide.scene_id);\n                    slide.camera = clickableObject.camera;\n                    return slide;\n                })\n            }\n        },\n        mounted() {\n            this.init();\n        }\n    }\n</script>\n\n\n<template>\n    <div class=\"app\">\n        <router-view\n            v-if=\"isLoaded\"/>\n    </div>\n</template>\n\n\n<style lang=\"scss\">\n    @import '@/styles/index.scss';\n    @import '@/styles/variables.scss';\n\n    .app {\n\n\n        @include mobile() {\n\n\n        }\n    }\n</style>"]}]}